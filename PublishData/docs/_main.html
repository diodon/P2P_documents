<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>MBON P2P</title>
  <meta name="description" content="HOW TO: upload and publish your data" />
  <meta name="generator" content="bookdown 0.10 and GitBook 2.6.7" />

  <meta property="og:title" content="MBON P2P" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="HOW TO: upload and publish your data" />
  <meta name="github-repo" content="diodon/Biodivexplorer" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="MBON P2P" />
  
  <meta name="twitter:description" content="HOW TO: upload and publish your data" />
  

<meta name="author" content="E. Klein" />


<meta name="date" content="2019-06-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path=""><a href="#introduction"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path=""><a href="#build-your-metadata"><i class="fa fa-check"></i><b>2</b> 1. Build your metadata</a><ul>
<li class="chapter" data-level="2.1" data-path=""><a href="#basic-metadata"><i class="fa fa-check"></i><b>2.1</b> Basic Metadata</a></li>
<li class="chapter" data-level="2.2" data-path=""><a href="#geographical-extent"><i class="fa fa-check"></i><b>2.2</b> Geographical extent</a></li>
<li class="chapter" data-level="2.3" data-path=""><a href="#taxonomic-coverage"><i class="fa fa-check"></i><b>2.3</b> Taxonomic Coverage</a></li>
<li class="chapter" data-level="2.4" data-path=""><a href="#temporal-coverage"><i class="fa fa-check"></i><b>2.4</b> Temporal coverage</a></li>
<li class="chapter" data-level="2.5" data-path=""><a href="#keywords"><i class="fa fa-check"></i><b>2.5</b> Keywords</a></li>
<li class="chapter" data-level="2.6" data-path=""><a href="#associted-parties"><i class="fa fa-check"></i><b>2.6</b> Associted Parties</a></li>
<li class="chapter" data-level="2.7" data-path=""><a href="#project-data"><i class="fa fa-check"></i><b>2.7</b> Project Data</a></li>
<li class="chapter" data-level="2.8" data-path=""><a href="#sampling-methods."><i class="fa fa-check"></i><b>2.8</b> Sampling methods.</a></li>
<li class="chapter" data-level="2.9" data-path=""><a href="#citation"><i class="fa fa-check"></i><b>2.9</b> Citation</a></li>
<li class="chapter" data-level="2.10" data-path=""><a href="#collection-data"><i class="fa fa-check"></i><b>2.10</b> Collection data</a></li>
<li class="chapter" data-level="2.11" data-path=""><a href="#external-links"><i class="fa fa-check"></i><b>2.11</b> External Links</a></li>
<li class="chapter" data-level="2.12" data-path=""><a href="#additional-metadata"><i class="fa fa-check"></i><b>2.12</b> Additional Metadata</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path=""><a href="#match-your-data-in-the-ipt"><i class="fa fa-check"></i><b>3</b> 2. Match your data in the IPT</a></li>
<li class="chapter" data-level="4" data-path=""><a href="#publish-your-data"><i class="fa fa-check"></i><b>4</b> 3. Publish your data</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">MBON P2P</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">MBON P2P</h1>
<h2 class="subtitle"><em>HOW TO upload and publish your data in OBIS and GBIF</em></h2>
<p class="author"><em>E. Klein</em></p>
<p class="date"><em>2019-06-01</em></p>
</div>
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>This guide will help you to publish your data to OBIS and GBIF, and with that, obtain a DOI for your collection.</p>
<p>This is a very easy process that could be accomplished in 30 minutes or less. To publish your data you need to go through THREE easy steps:</p>
<ol style="list-style-type: decimal">
<li><strong>Build your metadata</strong>. Data without the metadata is simple useless. In this step you will enter the description of the project, sampling methods, collaborators funding agencies, etc. This is very important as you want your data set, collaborators and your institution attributed correctly. This is step is the longest one.</li>
<li><strong>Match your data with the Darwin Core</strong>. As we already formatted the data to be compatible with the DwC terms, this is a very quick step. Just upload your files and review the matches.</li>
<li><strong>Publish your data</strong>. As easy as two clicks!</li>
</ol>
<p>At the last workshop, we agree that all data sets will be published in <a href="http://obis.org">OBIS</a> and <a href="http://gbif.org">GBIF</a>, and after the data is there, we will produce two data papers, one for the Sandy Beach data and other for the Rocky shore data.</p>
<p><strong>If you don’t have time or think that you will not be able to publish your data, just let us know. We can help you!</strong></p>
<p>Let’s go step by step:</p>
</div>
<div id="build-your-metadata" class="section level1">
<h1><span class="header-section-number">2</span> 1. Build your metadata</h1>
<p>As it was mentioned, this step is as important as the collection of the data itself. You will fill the metadata section of the IPT installation of the MBON project.</p>
<ol style="list-style-type: decimal">
<li>Login into the <a href="http://ipt.iobis.org/mbon">MBON IPT instalation</a> using the credentials we have set for you</li>
</ol>
<p>NOTE: Your user name is your email address</p>
<ol start="2" style="list-style-type: decimal">
<li>You need to create a <strong>new resource</strong> (this is how IPT calls the data sets). Go to the <strong>Manage Resources</strong> tab and at the very bottom fill the fields of the <strong>Create new Resource</strong> section.</li>
</ol>
<ul>
<li>Name your resource. It has to be a short name with no spaces or special characters. Don’t worry too much as we will change the name to a proper one later.</li>
<li>Select the type of the resource as <strong>Sampling EVENT</strong>. This is very important as your data comply with this schema.</li>
<li>Click on <strong>Create new Resource</strong>. You will be redirected to the resource page you just created.</li>
</ul>

<div class="rmdnote">
NOTE: During the creation/edition process the data set (<em>the resource</em>) will be only visible to you until you finaly make it public.
</div>

<p>You will see something like this:</p>
<div class="figure">
<img src="images/ipt01.png" alt="IPT resource home page" />
<p class="caption">IPT resource home page</p>
</div>
<div id="basic-metadata" class="section level2">
<h2><span class="header-section-number">2.1</span> Basic Metadata</h2>
<p>There are few things we need to keep constant across all data sets of the project. Other things are very particular to your dataset and you need to fill it with the appropriate details.</p>
<p>So click on <code>Edit</code> in the matadata section and begin to fill the information required:</p>
<ol style="list-style-type: decimal">
<li><p>Modify the title of your resource. For the project your must use <strong>MBON POLE TO POLE: SANDY BEACH BIODIVERSITY OF….</strong> replacing SANDY BEACH for ROCKY SHORE if it necessary and complete the line with your locality, e.g. <strong>MBON POLE TO POLE: SANDY BEACH BIODIVERSITY OF PLAYA DEL CARMEN</strong>. All in <strong>CAPITAL</strong> letters.</p></li>
<li><p>Publishing organization select <strong>Caribbean OBIS Node</strong></p></li>
<li><p>Update frequency, select <strong>as needed</strong></p></li>
<li><p>Licence type: select <strong>Cretive COmmons Attribution (CC-BY) 4.0</strong>. That means that the user must attribute the data to the owner.</p></li>
<li><p>Description. Add a new paragraph with the following text:</p></li>
</ol>
<pre><code>The MBON Pole to Pole effort seeks to develop a framework for the collection, use and sharing of marine biodiversity data in a coordinated, standardized manner leveraging on existing infrastructure managed by the Global Ocean Observing System (GOOS; IOC-UNESCO), the GEO Biodiversity Observation Network (GEO BON), and the Ocean Biogeographic Information System (OBIS). The MBON Pole to Pole aims to become a key resource for decision-making and management of living resource across countries in the Americas for reporting requirements under the Intergovernmental Science-Policy Platform on Biodiversity and Ecosystem Services (IPBES), Aichi Targets of the Convention of Biological Diversity (CBD), and the UN 2030 Agenda for Sustainable Development Goals (SDGs).</code></pre>
<ol start="6" style="list-style-type: decimal">
<li><p>In the description, open another paragraph and add the information related to your sampling site. As a reference, see what Edlin <em>et al</em> did in their <a href="https://www.gbif.org/dataset/36094b2b-bd50-4c6d-af52-264a155fc76f">GBIF dataset landing page</a></p></li>
<li><p>Resource contacts, creator and metadata provider. You need to fill the details of the person responsible for this data set, probably you. Those are mandatory fields.</p></li>
</ol>
<p>Click <strong>Save</strong></p>
</div>
<div id="geographical-extent" class="section level2">
<h2><span class="header-section-number">2.2</span> Geographical extent</h2>
<p>Add the coordinates of your sampling site clicking on <code>set global coverage</code>. The place for the coordinates will appear.</p>
<p>You also need to add a description of your locality, e.g. Sandy beach of Playa del Carmen, Mexico</p>
</div>
<div id="taxonomic-coverage" class="section level2">
<h2><span class="header-section-number">2.3</span> Taxonomic Coverage</h2>
<p>Here you need to input all the scientific names you discovered in your site. You can easily extract this from the occurrence file of your site from the DataAnalysisFile folder in the projects google drive.</p>
<p>Here is and example of the list of taxa from Puerto Madryn rocky shores sites:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Occurrence =<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&quot;ARGENTINA_PUERTOMADRYN_PUNTAESTE_dashboard_occurrence.csv&quot;</span>, <span class="dt">progress =</span> F)
sppList =<span class="st"> </span><span class="kw">unique</span>(Occurrence<span class="op">$</span>ScientificName_accepted)
## remove NAs
sppList =<span class="st"> </span>sppList[<span class="op">!</span><span class="kw">is.na</span>(sppList)]

## Write the names to a text file
<span class="kw">writeLines</span>(<span class="dt">con=</span><span class="st">&quot;sppList.txt&quot;</span>, sppList)
<span class="kw">print</span>(sppList)</code></pre></div>
<pre><code>##  [1] &quot;Brachidontes&quot;                   &quot;Ulva prolifera&quot;                
##  [3] &quot;Siphonaria lessonii&quot;            &quot;Balanus glandula&quot;              
##  [5] &quot;Mytilus platensis&quot;              &quot;Ulva&quot;                          
##  [7] &quot;Cladophora&quot;                     &quot;Corallina officinalis&quot;         
##  [9] &quot;Polysiphonia&quot;                   &quot;Corallinophycidae&quot;             
## [11] &quot;Polychaeta&quot;                     &quot;Scytosiphon&quot;                   
## [13] &quot;Tegula patagonica&quot;              &quot;Porifera&quot;                      
## [15] &quot;Trophon geversianus&quot;            &quot;Phaeophyceae&quot;                  
## [17] &quot;Cyrtograpsus altimanus&quot;         &quot;Bryopsis australis&quot;            
## [19] &quot;Ralfsia&quot;                        &quot;Exosphaeroma&quot;                  
## [21] &quot;Ceramium&quot;                       &quot;Leiosolenus patagonicus&quot;       
## [23] &quot;Parabunodactis imperfecta&quot;      &quot;Aulacomya atra&quot;                
## [25] &quot;Epitonium fabrizioi&quot;            &quot;Dictyota dichotoma&quot;            
## [27] &quot;Diadumene&quot;                      &quot;Undaria pinnatifida&quot;           
## [29] &quot;Plaxiphora (Plaxiphora) aurata&quot; &quot;Leathesia&quot;                     
## [31] &quot;Fissurella radiosa tixierae&quot;    &quot;Codium&quot;                        
## [33] &quot;Eulalia clavigera&quot;</code></pre>
<p>Once you have your taxon list, click on <strong>add new taxonomic coverage</strong>, and <strong>add several taxa</strong>. You can paste here the list of your species. Once copied you will see one line per taxon. You could also add the taxonomic range of the name selecting it from the pull down beside each name. You should have something similar to this:</p>
<div class="figure">
<img src="images/ipt_taxrange.png" alt="Taxonomic Range" />
<p class="caption">Taxonomic Range</p>
</div>
<p>Click <strong>Save</strong></p>
</div>
<div id="temporal-coverage" class="section level2">
<h2><span class="header-section-number">2.4</span> Temporal coverage</h2>
<p>Add a new temporal coverage and enter the dates of your sampling. Click <strong>Save</strong></p>
</div>
<div id="keywords" class="section level2">
<h2><span class="header-section-number">2.5</span> Keywords</h2>
<p>Add a list of the keywords. Please include the following:</p>
<p><strong>MBON, Pole to Pole</strong></p>
<p>Click <strong>Save</strong></p>
</div>
<div id="associted-parties" class="section level2">
<h2><span class="header-section-number">2.6</span> Associted Parties</h2>
<p>Here you will enter the details of your organization, funding agencies, collaborators, etc. Please select carefully the role of your collaborators.</p>
<p>Once finished, click <strong>Save</strong></p>
</div>
<div id="project-data" class="section level2">
<h2><span class="header-section-number">2.7</span> Project Data</h2>
<ol style="list-style-type: decimal">
<li><p>Title. Use the same name you have used in the project title before.</p></li>
<li><p>Description. Copy the same description you’ve used before.</p></li>
<li><p>Funding. Add the organization that provide your funds for the sampling</p></li>
<li><p>Study area Description. Input here a general description of you sampling area. E.g. Playa del Carmen is a sandy beach of xx Km long with tidal range of xx m. the mean temperature is xx C and presents seasonal upwellings during the first months of the year. There is an important coastal development, mostly for tourism and during high season we could expect hundred of people using the beach…. something like this.</p></li>
<li><p>Design description. Copy the design from the official methods for the corresponding Beach/Rocky environments</p></li>
<li><p>Project Personnel. Here you will enter your collaborators and their specific role in the project. They all be included in the citation of the data set. Carefully select the role of each of the collaborators. Here you will enter the details of the project.</p></li>
</ol>
</div>
<div id="sampling-methods." class="section level2">
<h2><span class="header-section-number">2.8</span> Sampling methods.</h2>
<p>Input the information from the manual of the standard methods for the project.</p>
<p>Click <strong>Save</strong></p>
</div>
<div id="citation" class="section level2">
<h2><span class="header-section-number">2.9</span> Citation</h2>
<p>This is how the data set will be cited. Click on the <em>Autogeneration</em> to turn it on. review the citation. If you think that something or someone is missing, go back to the corresponding section and make the modifications.</p>
<p>If there is any relevant bibliographic reference associated with your data set you can add it in this section.</p>
<p>Once satisfied, click <strong>Save</strong></p>
</div>
<div id="collection-data" class="section level2">
<h2><span class="header-section-number">2.10</span> Collection data</h2>
<p>If you collected samples and the organisms where deposited in a collection, you can add those details in this section.</p>
<p>Click <strong>Save</strong></p>
</div>
<div id="external-links" class="section level2">
<h2><span class="header-section-number">2.11</span> External Links</h2>
<p>Please add the web page of the MBON P2P Project: <code>https://marinebon.github.io/p2p/index.html</code></p>
</div>
<div id="additional-metadata" class="section level2">
<h2><span class="header-section-number">2.12</span> Additional Metadata</h2>
<p>Please add in the section <strong>Additional Information</strong> the following lines:</p>
<p><strong>MARINE DATA HARVESTED BY OBIS</strong> <strong>A MBON POLE TO POLE PROJECT DATA SET</strong></p>
<p>click <strong>Save</strong></p>
<p>With that you have finished the description of your data set. Remember that more detail is always better. Also you, can modify your metadata later and the tinges will be reflected on the GBIF and OBIS sites.</p>
</div>
</div>
<div id="match-your-data-in-the-ipt" class="section level1">
<h1><span class="header-section-number">3</span> 2. Match your data in the IPT</h1>
<p>For that step, the hard work is already done! The scripts we’ve used to read the excel data tables and transform it into something more practical to analyze, also produced a set of files ready to be uploaded to the <a href="http://ipt.iobis.org/mbon">MBON IPT</a>.</p>
<p>You will need <em>three</em> files for you locality that are in the Google drive folder <a href="https://drive.google.com/open?id=1aXDbVtRminFY8LvE6Tc2r0mh9B4JjHXy">00-DataCurated-&gt;IPTFiles</a>. As usual, the files from the sandy beaches are in a different folder that the ones from the rocky shores. The files have the name of your locality/site and the prefixes <code>\_ipt_event</code>, <code>\_ipt_occurrence</code> and <code>\_ipt_MoF</code>. Those files correspond to the EVENT-DATA schema of OBIS.</p>
<p>NOTE: if you have several localities as separated files and want to publish all as a single data set, we can help you to merge the data. Just let us know.</p>
<ol style="list-style-type: decimal">
<li><p>Go to the Google drive folder where the IPT files are and download to your computer the three IPT files for your locality.</p></li>
<li><p>In the IPT go to the tab <strong>Manage Resources</strong> and select your newly created data set. This will direct you to your resource main page, if you’re not already there.</p></li>
<li><p>Upload your files. Go to the section <strong>upload files</strong> and select your files one by one. There will be a page confirming the number of records read and other details that you need to acknowledge. Once your three files uploaded you will see them in the right side panel</p></li>
<li><p>Match your files with the event core and occurrence and MoF extensions</p></li>
<li>Review the matching. In this step you will verify that the fields of your data table match with the DwC terms.</li>
</ol>
<ul>
<li>Click on the <strong>Edit</strong> button at the right of the <strong>Event file</strong>. You will be directed to the page of the Event core fields. Verify that the names of the fields of your table correspond with the names of the Event core. Normally everything is correctly matched so you only need to click <strong>Save</strong>. Once saved, click <strong>Back</strong></li>
<li>Click on the <strong>Edit</strong> button at the right of the occurrence file. You will be directed to the page of the occurrence extension. As in the previous step, everything is correctly matched, but you need to change the match of the <code>scientificName</code> field. In this case, we will use <code>scientificName_accepted</code> as this is the one we extracted from WoRMS. Locate the <code>scientificName</code> field down to the Taxonomic section and using the pull down select the <code>scientificName_accepted</code> from your file.</li>
</ul>
</div>
<div id="publish-your-data" class="section level1">
<h1><span class="header-section-number">4</span> 3. Publish your data</h1>
<p>Once the metadata has been completed and your data matched with the DwC terms of the core and extensions, you are ready to publish your data.</p>
<p>In the main page of your resource, first click <strong>PUBLISH</strong>. You will be asked to accept the GBIF terms.</p>
<p>After, change the visibility to <strong>PUBLIC</strong>, so your data becomes publicly available.</p>
<p>Congratulations!!! your data in few minutes will be in OBIS and in GBIF. GBIF will provide you with a landing page with a DOI for your data.</p>
<p>Remember that you can always update your data and metadata in the IPT and the changes will be reflected in both systems in minutes.</p>
<p>If you have troubles do not hesitate to contact us.</p>
<p>Well done!!</p>

</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
},
"search": true
});
});
</script>

</body>

</html>
